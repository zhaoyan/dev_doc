1) Switch four commands definiaiton.
2) Pay attention to the length of comment in the source code, add line number, and use text format to explain the source code. Don't use comment in the lstlising. 
3) For any format questions, use simple test.tex to do test. don't use cpp.tex, it's too big and load slowly.
4)in git bash, run: tex4ebook -c config_kindle.cfg -d output test.tex
5)Use kindle preview to load test.epub
6)use calibra to convert test.epub to test.azw3
7)copy test.azw3 to kindle and see the result format. 
8)If everthing looks good, run the tex4ebook on cpp.tex
