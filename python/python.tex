% !Mode:: "TeX:UTF-8:Soft"
%\ifx \allfiles \undefined
\documentclass[a4paper,12pt,twoside]{book}
%\usepackage{CJKutf8}
\usepackage[T1]{fontenc}
\usepackage{pifont}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{capt-of}
\usepackage{color}
\usepackage{amsmath}
\newcommand{\linuxcommand}[1]{\texttt{\textcolor{blue}{\$ #1 \Pisymbol{psy}{191}}}}
\newcommand{\op}[1]{\textcolor{blue}{-#1}}
\newcommand{\hotkey}[1]{\framebox{#1}}
\newenvironment{screen}{\sffamily}{\rmfamily}
\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}

\begin{document}
%\begin{CJK*}{UTF8}{song}
\bibliographystyle{plainnat}
\title{Drop of knowledges of Python}
\author{Yan Zhao}
\date{}\maketitle

%\else
%\chapter{\ab}
%\fi

	
\chapter{Python Basic}
\section{Syntax}
\begin{lstlisting}[frame=single, language=Python]
g = 1
def fun():
    print g # this will cause error. 
	g = 2
	print g

fun()
print g
# output 
2 create a local name g
1
\end{lstlisting}  

\begin{lstlisting}[frame=single, language=python]
g = 1
def fun():
	global g
	g = 2
	print g

fun()
print g
# output 
2 create a local name g
2
\end{lstlisting}  

\begin{lstlisting}[frame=single, language=python]
gl = [1,2,3]
def fun():
	print gl
	gl[1] = 33
	print gl

fun()
print gl
# output 
[1,2,3]
[1,33,3]
[1,33,3]
\end{lstlisting}  

blow gl = [] will cause gl point to a local variable. so the first print gl will cause error.in order to correct this error, you need to use global declare

\begin{lstlisting}[frame=single, language=python]
gl = [1,2,3]
def fun():
	o = [4,5,6]
	def infun():
		o = [] # create a local name o
		o.append(1)
		print o
	print o

fun()
print gl
# output 
[1]
[4,5,6]
[1,2,3]
\end{lstlisting}  

\begin{lstlisting}[frame=single, language=python]
gl = [1,2,3]
def fun():
	o = [4,5,6]
	def infun():
		o = [] # create a local name o
		o.append(1)
		return o
	o = infun()
	print o

fun()
print gl
# output 
[1]
[1,2,3]
\end{lstlisting}  


\begin{lstlisting}[frame=single, language=python]
gl = [1,2,3]
if True:
	ol = [4,5,6]
	if True:
		ol = []
		gl = []
	print ol
	print gl
# output 
[]
[]
\end{lstlisting}  





\begin{itemize}
		\item reference always work, it will look for name from inside to outside.
		\item for immutable object, such as int. you only can use assignment. for mutable object, such as list, if you use assignment. result will be seen below item
		\item assignment will create a new name, if you want to modify outside, you need to global or make function return.
		\item for mutalbe object, if you use list[0] = 'change'. then it will modify outside object.
		\item gint = 3 will always create local name. list =[] will create local name, list[0] = 'change' will modify outside object.
		\item for if while block, will not create local name, always modify outside. 
\end{itemize}

\section{Application}
\begin{itemize}
		\item For python, you can use below code to see if it support wide-unicode.
\begin{lstlisting}[frame=single, language=python]
import sys
print(sys.maxunicode) 
1114111-->support wide-unicde.
65535 --> support usct
\end{lstlisting} 
		\item --enable-unicode=usc2 or usc4 is gone in Python 3.x. You now only have the choice to use the default (which is UCS2) or switch on the optional support for UCS4 by using --with-wide-unicode.

		\item blender --background --python script.py or blender --background --python-console

\end{itemize}

\chapter{Idea}



\chapter{Conclusion}

adsfdfe
asdfasdf
asdfadsf
asdfasd


%\ifx \allfiles \undefined
%\bibliography{../book}
%\end{CJK*}
\end{document}
%\fi
